@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<link rel="stylesheet" href="../contrast-bootstrap-pro/css/bootstrap.min.css" />
<link rel="stylesheet" href="../contrast-bootstrap-pro/css/cdb.css" />
<link href="~/Content/bootstrap.min.css" rel="stylesheet" type="text/css" />
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js" type="text/javascript"></script>
<script src="https://kit.fontawesome.com/9d1d9a82d2.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js"></script>

<h2>User Profile</h2>
<br />

<div id="FirstRow">
    <input class="btn btn-info" type="button" id="btnOrderHistory" value="Order History" />
    <input class="btn btn-info" type="button" id="btnAccountDetails" value="Account Details" />
    <input class="btn btn-info" type="button" id="btnLogout" value="Logout" />
</div>

<!-- Order History Chart -->


<!-- Account Settings Section -->
<div class="col-md-6" style="margin-top:50px;">
    <h4>Account Settings</h4>
    <div class="list-group">
        <a href="#" class="list-group-item list-group-item-action" id="EditProfile">Edit Profile</a>
        <a href="#" class="list-group-item list-group-item-action" id="DeleteAccount">Delete Account</a>
        <a href="#" class="list-group-item list-group-item-action" id="ChartVisuals">Charts</a>
    </div>

    <div id="CustomerDetails" style="margin-top:50px;">
        <form class="row g-3">
            <div class="col-md-6">
                <label for="txtFirstName" class="form-label">First Name</label>
                <input type="text" class="form-control" id="txtFirstName" placeholder="First Name">
            </div>
            <div class="col-md-6">
                <label for="txtLastName" class="form-label">Last Name</label>
                <input type="text" class="form-control" id="txtLastName" placeholder="Last Name">
            </div>
            <div class="col-md-6">
                <label for="txtUserEmail" class="form-label">Email</label>
                <input type="email" class="form-control" id="txtUserEmail" placeholder="Email">
            </div>
            <div class="col-md-6">
                <label for="txtUserPassword" class="form-label">Password</label>
                <input type="password" class="form-control" id="txtUserPassword" placeholder="Password">
            </div>
            <div class="col-12">
                <label for="txtUserAddress" class="form-label">Address</label>
                <input type="text" class="form-control" id="txtUserAddress" placeholder="Apartment, studio, or floor">
            </div>
            <div class="col-md-4">
                <label for="ContactNumber" class="form-label">Contact Number</label>
                <input type="tel" class="form-control" id="ContactNumber" placeholder="Contact No">
            </div>
            <div class="col-md-4">
                <label for="CustomerRole" class="form-label">Select User Role</label>
                <select id="CustomerRole" class="form-select">
                    <option selected>Customer</option>
                    <option>Sales</option>
                </select>
            </div>
            <div class="col-12">
                <button type="submit" class="btn btn-info" id="SubmitEditedProfile">Edit</button>
            </div>
        </form>
    </div>
    
</div>
<div id="OrderChart" class="card chart-container" style="margin-top:30px;">
    <canvas id="chart"></canvas>
    <div id="CloseChart" style="margin-top:10px;">
        <input class="btn btn-info" type="button" id="btnLogout" value="Close" />
    </div>
</div>

<style>
    .chart-container {
        width: 50%;
        height: 50%;
        margin: auto;
    }
</style>

<script>
    $(document).ready(() => {
        $("#OrderChart").hide();
        $("#CustomerDetails").hide();
        $("#chart").hide();

        $("#ChartVisuals").click(() => {
            $("#OrderChart").show();
            $("#chart").show();
           
        });
        $("#CloseChart").click(() => {
            $("#OrderChart").hide();
            $("#chart").hide();

        });

        $("#btnLogout").click(() => {
            alert("Logout button clicked.");
        });

        $("#EditProfile").click(() => {
            $("#DeleteAccount").hide();
            $("#ChartVisuals").hide();
            $("#CustomerDetails").show();
        });

        $("#SubmitEditedProfile").click(() => {
            $("#DeleteAccount").show();
            $("#ChartVisuals").show();
            $("#CustomerDetails").hide();
        });

        // Chart.js integration
        const ctx = document.getElementById("chart").getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ["Jan", "Feb", "March", "April", "May", "June", "July"],
                datasets: [{
                    label: 'Last week',
                    backgroundColor: 'rgba(161, 198, 247, 1)',
                    borderColor: 'rgb(47, 128, 237)',
                    data: [3000, 4000, 2000, 5000, 8000, 9000, 2000],
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true,
                        }
                    }]
                }
            },
        });
    });
</script>