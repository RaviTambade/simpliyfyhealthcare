@{
    ViewData["Title"] = "Home Page";
}

<!-- Link to Bootstrap CSS -->
<link href="~/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js" type="text/javascript"></script>

<!-- Add FontAwesome for the icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />

<div class="row">
    <!-- Sidebar Section -->
    <div class="col-md-3 bg-light p-3" style="height: 100vh; padding-left: 0;">
        <h4>Categories</h4>

        <!-- Category Dropdown -->
        <div class="dropdown">
            <button class="btn btn-primary dropdown-toggle w-100" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Categories
            </button>
            <ul class="dropdown-menu w-100">
                <!-- Smartphones Dropdown -->
                <li class="dropdown-submenu">
                    <button class="dropdown-item dropdown-toggle" type="button">Smartphones</button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Apple</a></li>
                        <li><a class="dropdown-item" href="#">Samsung</a></li>
                        <li><a class="dropdown-item" href="#">OnePlus</a></li>
                    </ul>
                </li>

                <!-- Laptops Dropdown -->
                <li class="dropdown-submenu">
                    <button class="dropdown-item dropdown-toggle" type="button">Laptops</button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Dell</a></li>
                        <li><a class="dropdown-item" href="#">HP</a></li>
                        <li><a class="dropdown-item" href="#">Lenovo</a></li>
                    </ul>
                </li>

                <!-- TVs Dropdown -->
                <li class="dropdown-submenu">
                    <button class="dropdown-item dropdown-toggle" type="button">TVs</button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">LG</a></li>
                        <li><a class="dropdown-item" href="#">Sony</a></li>
                        <li><a class="dropdown-item" href="#">Samsung</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <!-- Main Content Section -->
    <div class="col-md-9">
        <!-- Search Section -->
        <div class="row d-flex justify-content-center my-3">
            <div class="col-md-6 d-flex">
                <!-- Search Bar -->
                <input type="text" class="form-control" placeholder="Search for products..." name="search">

                <!-- Search Button -->
                <button class="search-button btn btn-primary ms-2" type="button">Search</button>

                <!-- Toggle View Button (Grid/List) -->
                <button id="toggleViewBtn" class="btn btn-light ms-2">
                    <i class="fas fa-th-large"></i> <!-- Default Grid View Icon -->
                </button>
            </div>
        </div>

        <!-- Product Layout (Grid or List) -->
        <div id="productLayout">
            <!-- Initially show the Grid View -->
            <div id="gridView" class="view" style="display: block;">
                @Html.Partial("GridLayout") <!-- Grid View Partial -->
            </div>
            <div id="cardView" class="view" style="display: none;">
                @Html.Partial("CardLayout") <!-- Card View Partial -->
            </div>
        </div>
    </div>
</div>


<style>
    .container-fluid {
        margin-top: 20px;
    }

    .bg-light {
        background-color: #f8f9fa !important;
    }

    .search-button {
        width: auto; 
    }

    .my-3 {
        margin-top: 1rem;
        margin-bottom: 1rem;
    }

    
    .col-md-3 {
        border-right: 1px solid #ddd;
        padding-left: 0; 
        margin-left: 0; 
    }

    /* Dropdown styling */
    .dropdown-toggle::after {
        display: none;
    }

    /* Custom styles for grid/list toggle */
    .btn-light {
        background-color: #f8f9fa !important;
        color: #007bff;
    }

        .btn-light:hover {
            background-color: #e2e6ea !important;
        }

   
    .view {
        display: none;
    }

   
    .row.d-flex {
        display: flex;
        justify-content: center;
    }

    .col-md-6.d-flex {
        display: flex;
        align-items: center;
        justify-content: space-between; 
    }

        .col-md-6.d-flex input {
            flex-grow: 1; 
        }

        .col-md-6.d-flex .search-button {
            width: auto; 
        }

        .col-md-6.d-flex #toggleViewBtn {
            width: auto; 
        }
</style>

<!-- Toggle Script for View Change -->
<script>
    
    const toggleViewBtn = document.getElementById('toggleViewBtn');
    const gridView = document.getElementById('gridView');
    const cardView = document.getElementById('cardView');

    // Set initial state (Grid view)
    let isGridView = true;

    toggleViewBtn.addEventListener('click', () => {
        // Toggle the view state
        isGridView = !isGridView;

        // Toggle visibility
        if (isGridView) {
            gridView.style.display = 'block'; // Show grid view
            cardView.style.display = 'none';  // Hide card view
            toggleViewBtn.innerHTML = '<i class="fas fa-th-large"></i>'; // Set Grid view icon
        } else {
            cardView.style.display = 'block'; // Show card view
            gridView.style.display = 'none';  // Hide grid view
            toggleViewBtn.innerHTML = '<i class="fas fa-list"></i>'; // Set List view icon
        }
    });
</script>
